{"version":3,"sources":["services/userAPI.js","pages/Loading.js","components/Header.js","services/musicsAPI.js","services/favoriteSongsAPI.js","components/MusicCard.js","pages/Album.js","pages/Favorites.js","pages/Login.js","pages/NotFound.js","pages/Profile.js","pages/ProfileEdit.js","services/searchAlbumsAPI.js","components/AlbumCard.js","pages/Search.js","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","Component","Header","state","then","setState","this","to","getMusics","id","a","fetch","request","json","requestJson","results","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","MusicCard","loading","isFavorite","handleButton","bind","favoritesFunc","idFav","props","favorites","some","music","trackId","musicList","length","trackName","src","previewUrl","controls","kind","htmlFor","amgArtistId","type","checked","onChange","Album","getMusicList","match","params","artistName","collectionName","slice","map","album","Favorites","Login","login","isDesactiveButton","undefined","handleChange","loadingPage","value","target","loginMinLength","event","preventDefault","disabled","onClick","NotFound","Profile","ProfileEdit","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","APIResponse","artistId","collectionId","collectionPrice","artworkUrl100","releaseDate","trackCount","AlbumCard","img","albumName","alt","Search","search","albuns","handleClick","inputSearch","prevSearch","condition","action","card","App","exact","path","component","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59c566cf.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\n\nexport default class Loading extends Component {\n  render() {\n    return (\n      <p>Carregando...</p>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from '../pages/Loading';\n\nexport default class Header extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n    };\n  }\n\n  componentDidMount() {\n    getUser()\n      .then((response) => {\n        this.setState({\n          user: response.name,\n        });\n      });\n  }\n\n  render() {\n    const {\n      user,\n    } = this.state;\n    return (\n      <header data-testid=\"header-component\">\n        {user ? <p data-testid=\"header-user-name\">{ user }</p> : <Loading />}\n        <Link to=\"/search\" data-testid=\"link-to-search\">Search</Link>\n        <Link\n          to=\"/favorites\"\n          data-testid=\"link-to-favorites\"\n        >\n          Favorites\n        </Link>\n        <Link to=\"/profile\" data-testid=\"link-to-profile\">Profile</Link>\n        Header\n      </header>\n    );\n  }\n}\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport Loading from '../pages/Loading';\n\nexport default class MusicCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isFavorite: false,\n    };\n    this.handleButton = this.handleButton.bind(this);\n  }\n\n  componentDidMount() {\n    this.favoritesFunc();\n  }\n\n  handleButton(song) {\n    const { isFavorite } = this.state;\n    if (!isFavorite) {\n      this.setState({\n        loading: true,\n        isFavorite: true,\n      }, async () => {\n        await addSong(song);\n        this.setState({\n          loading: false,\n        });\n      });\n    } else {\n      this.setState({\n        isFavorite: false,\n      });\n    }\n  }\n\n  favoritesFunc() {\n    const {\n      idFav,\n    } = this.props;\n    this.setState({\n      loading: true,\n    }, async () => {\n      const favorites = await getFavoriteSongs();\n      const isFavorite = favorites.some((music) => music.trackId === idFav);\n      this.setState({\n        isFavorite,\n        loading: false,\n      });\n    });\n  }\n\n  render() {\n    const {\n      musicList,\n      music,\n    } = this.props;\n    const {\n      loading,\n      isFavorite,\n    } = this.state;\n    return (\n      <div>\n        {musicList.length > 0\n    && (\n      <div>\n        {loading && <Loading />}\n        <p>{music.trackName}</p>\n        <audio data-testid=\"audio-component\" src={ music.previewUrl } controls>\n          <track kind=\"captions\" />\n          <code>audio</code>\n        </audio>\n        <label htmlFor={ music.amgArtistId }>\n          Favorita\n          <input\n            data-testid={ `checkbox-music-${music.trackId}` }\n            id={ music.amgArtistId }\n            type=\"checkbox\"\n            checked={ isFavorite }\n            onChange={ () => this.handleButton(music) }\n          />\n        </label>\n      </div>)}\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  musicList: PropTypes.arrayOf(PropTypes.object).isRequired,\n  music: PropTypes.objectOf(PropTypes.string).isRequired,\n  idFav: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\n\nexport default class Album extends Component {\n  constructor() {\n    super();\n    this.state = {\n      musicList: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getMusicList();\n  }\n\n  async getMusicList() {\n    const {\n      match: {\n        params: {\n          id,\n        },\n      },\n    } = this.props;\n    const musicList = await getMusics(id);\n    this.setState({\n      musicList,\n    });\n  }\n\n  render() {\n    const {\n      musicList,\n    } = this.state;\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        {musicList[1]\n        && (\n          <div>\n            <h1 data-testid=\"artist-name\">{musicList[0].artistName}</h1>\n            <h3 data-testid=\"album-name\">{musicList[0].collectionName}</h3>\n          </div>\n        )}\n        {musicList[1] && musicList.slice(1).map((album) => (<MusicCard\n          key={ album.trackId }\n          music={ album }\n          musicList={ musicList }\n          idFav={ album.trackId }\n        />))}\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nexport default class Favorites extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        Favorites\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { createUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nexport default class Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      login: '',\n      isDesactiveButton: true,\n      loading: false,\n      response: undefined,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.saveUser = this.saveUser.bind(this);\n    this.loadingPage = this.loadingPage.bind(this);\n  }\n\n  handleChange({ target: { value } }) {\n    const MAX_LENGTH = 3;\n    const loginMinLength = value.length >= MAX_LENGTH;\n    this.setState({\n      login: value,\n      isDesactiveButton: !loginMinLength,\n    });\n  }\n\n  loadingPage() {\n    const { loading } = this.state;\n    this.setState({\n      loading: !loading,\n    });\n  }\n\n  async saveUser(event) {\n    event.preventDefault();\n    const { login } = this.state;\n    this.loadingPage();\n    const response = await createUser({ name: login });\n    this.setState({\n      response,\n    });\n  }\n\n  render() {\n    const {\n      login,\n      isDesactiveButton,\n      loading,\n      response,\n    } = this.state;\n    return (\n      <div data-testid=\"page-login\">\n        Login\n        { loading && <Loading />}\n        { response && <Redirect to=\"/search\" /> }\n        <form>\n          <input\n            type=\"text\"\n            data-testid=\"login-name-input\"\n            value={ login }\n            onChange={ this.handleChange }\n          />\n          <button\n            type=\"submit\"\n            data-testid=\"login-submit-button\"\n            disabled={ isDesactiveButton }\n            onClick={ this.saveUser }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class NotFound extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\">\n        PageNotFound\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nexport default class Profile extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        Profile\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nexport default class ProfileEdit extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        ProfileEdit\n      </div>\n    );\n  }\n}\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class AlbumCard extends Component {\n  render() {\n    const {\n      img,\n      albumName,\n      artistName,\n      id,\n    } = this.props;\n    return (\n      <Link\n        to={ `/album/${id}` }\n        data-testid={ `link-to-album-${id}` }\n      >\n        <img src={ img } alt={ albumName } />\n        <h1>{artistName}</h1>\n        <h3>{albumName}</h3>\n      </Link>\n    );\n  }\n}\n\nAlbumCard.propTypes = {\n  albumName: PropTypes.string.isRequired,\n  artistName: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  img: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport AlbumCard from '../components/AlbumCard';\n\nexport default class Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      search: '',\n      isDesactiveButton: true,\n      albuns: [],\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.inputSearch = this.inputSearch.bind(this);\n  }\n\n  async handleClick(event) {\n    event.preventDefault();\n    const { search } = this.state;\n    const albuns = await searchAlbumsAPI(search);\n    this.setState({\n      albuns,\n      prevSearch: search,\n      search: '',\n    });\n  }\n\n  inputSearch({ target: { value } }) {\n    const MAX_LENGTH = 2;\n    const condition = value.length >= MAX_LENGTH;\n    this.setState({\n      search: value,\n      isDesactiveButton: !condition,\n    });\n  }\n\n  render() {\n    const { search, isDesactiveButton, albuns, prevSearch } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        Search\n        <form action=\"\">\n          <input\n            type=\"text\"\n            data-testid=\"search-artist-input\"\n            value={ search }\n            onChange={ this.inputSearch }\n          />\n          <button\n            type=\"submit\"\n            data-testid=\"search-artist-button\"\n            onClick={ this.handleClick }\n            disabled={ isDesactiveButton }\n          >\n            Pesquisar\n          </button>\n        </form>\n        {albuns.length === 0 ? (\n          <h1>Nenhum álbum foi encontrado</h1>\n        ) : (\n          <h3>{`Resultado de álbuns de: ${prevSearch}`}</h3>\n        )}\n        {albuns.map((card) => (\n          <AlbumCard\n            key={ card.collectionId }\n            img={ card.artworkUrl100 }\n            id={ card.collectionId }\n            albumName={ card.collectionName }\n            artistName={ card.artistName }\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Login from './pages/Login';\nimport NotFound from './pages/NotFound';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport Search from './pages/Search';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={ Login } />\n          <Route path=\"/search\" component={ Search } />\n          <Route path=\"/album/:id\" component={ Album } />\n          <Route path=\"/favorites\" component={ Favorites } />\n          <Route exact path=\"/profile\" component={ Profile } />\n          <Route path=\"/profile/edit\" component={ ProfileEdit } />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}